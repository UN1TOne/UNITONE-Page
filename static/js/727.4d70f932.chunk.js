"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[727],{74727:(e,i,t)=>{async function o(e,i,t){let o,n,r=1,a=0;const l=[];let s,d,c,h,p,C,u,m,b,g=!1,w=!0,V=!0,f=[];console.clear(),o=new t.Scene(e),o.useRightHandedSystem=!0,o.clearColor=new t.Color4(.45,.45,.45,1);const x=new t.Vector3(0,5,-10),I=new t.Vector3(-.026,.23,0);var v=new t.FreeCamera("camera1",x,o);v.rotation=I,v.position.z=-16,v.attachControl(i,!0),new t.HemisphericLight("light",new t.Vector3(0,1,0),o).intensity=.7;var T=new t.GridMaterial("groundMaterial",o);T.majorUnitFrequency=5,T.minorUnitVisibility=.5,T.gridRatio=2,T.opacity=.99,T.useMaxLine=!0;var M=t.MeshBuilder.CreateGround("ground",{width:100,height:100},o,!1);M.material=T,s=new t.GizmoManager(o),s.positionGizmoEnabled=!0,s.gizmos.positionGizmo.planarGizmoEnabled=!0;const E=new t.Vector3(0,1,0),G=new t.Vector3(10,1,10),k=new t.Vector3(5,5,5);h=t.MeshBuilder.CreateSphere("Start",{diameter:.5},o),h.material=new t.StandardMaterial("startMaterial",o),h.material.diffuseColor=new t.Color3(0,0,1),h.position=E,p=t.MeshBuilder.CreateSphere("End",{diameter:.5},o),p.material=new t.StandardMaterial("endMaterial",o),p.material.diffuseColor=new t.Color3(0,1,0),p.position=G,C=t.MeshBuilder.CreateBox("target",{size:1},o),C.position=new t.Vector3(5,1,5),C.material=new t.StandardMaterial("targetMaterial",o),C.material.diffuseColor=new t.Color3(1,0,0),u=t.MeshBuilder.CreateSphere("Control",{diameter:.5},o),u.material=new t.StandardMaterial("controlMaterial",o),u.material.diffuseColor=new t.Color3(.73,.13,.69),u.position=k,u.setEnabled(!1),m=t.MeshBuilder.CreateCylinder("ArrowHead",{height:.5,diameterTop:0,diameterBottom:.6,tessellation:16},o),m.rotation.x=Math.PI/2,m.bakeCurrentTransformIntoVertices(),m.setEnabled(!1),m.lookAt(C.absolutePosition),m.position=h.position,m.renderOutline=!0,O(),n=t.GUI.AdvancedDynamicTexture.CreateFullscreenUI("UI"),function(){var e=new t.GUI.StackPanel;e.width="200px",e.horizontalAlignment=t.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT,e.verticalAlignment=t.GUI.Control.VERTICAL_ALIGNMENT_TOP,n.addControl(e);var i=new t.GUI.StackPanel;i.isVertical=!1,i.height="30px",e.addControl(i);var d=new t.GUI.Checkbox;d.width="20px",d.height="20px",d.isChecked=!0,d.color="green",d.onIsCheckedChangedObservable.add((function(e){w=e,m.setEnabled(!w)})),i.addControl(d);var c=new t.GUI.TextBlock;c.text="Use Camera",c.width="180px",c.height="20px",c.marginLeft="5px",c.color="white",i.addControl(c);var h=new t.GUI.StackPanel;h.isVertical=!1,h.height="30px",e.addControl(h);var p=new t.GUI.Checkbox;p.width="20px",p.height="20px",p.isChecked=V,p.color="green",p.onIsCheckedChangedObservable.add((function(e){V=e,u.setEnabled(!e),f.length>0&&f.forEach((i=>{i.isVisible=!e})),O()})),h.addControl(p);var C=new t.GUI.TextBlock;C.text="CatmullRomSpline",C.width="180px",C.height="20px",C.marginLeft="5px",C.color="white",h.addControl(C);var b=new t.GUI.TextBlock;b.text="Speed: 1",b.height="30px",b.color="white",e.addControl(b);var g=new t.GUI.Slider;g.minimum=.1,g.maximum=5,g.step=.1,g.value=r,g.height="20px",g.width="200px",g.onValueChangedObservable.add((function(e){b.text="Speed: "+e.toFixed(1),r=e})),e.addControl(g);var x=t.GUI.Button.CreateSimpleButton("addViaButton","Add Via Target");x.width="150px",x.height="40px",x.color="white",x.background="blue",x.paddingTop="10px",x.horizontalAlignment=t.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER,x.verticalAlignment=t.GUI.Control.VERTICAL_ALIGNMENT_BOTTOM,e.addControl(x),x.onPointerUpObservable.add((()=>{a++;const e=t.MeshBuilder.CreateSphere(`Via${a}`,{diameter:.5},o);e.material=new t.StandardMaterial(`viaMaterial${a}`,o),e.material.diffuseColor=new t.Color3(1,1,1),e.position=new t.Vector3(2*a,1,0),U(e,`Via${a}`,"white"),s.attachToMesh(e),l.push(e),O()}))}();const A=t.GUI.Button.CreateSimpleButton("playButton","Play");A.width="150px",A.height="40px",A.color="white",A.background="green",A.horizontalAlignment=t.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER,A.verticalAlignment=t.GUI.Control.VERTICAL_ALIGNMENT_BOTTOM,n.addControl(A),t.VideoRecorder.IsSupported(e)&&(b=new t.VideoRecorder(e));A.onPointerUpObservable.add((()=>{g=!g,console.log(g),g?(A.textBlock.text="Stop",w&&(n.rootContainer.getDescendants().forEach((e=>{e.isVisible=!1})),c.isVisible=!1,h.isVisible=!1,p.isVisible=!1,u.isVisible=!1,M.isVisible=!1,o.meshes.filter((e=>e.name.startsWith("Via"))).forEach((e=>e.isVisible=!1)),s.positionGizmoEnabled=!1,o.clearColor=new t.Color4(.45,.45,.45,0),b.startRecording("webmTest.webm",60)),setTimeout((()=>{B()}),500)):(o.stopAnimation(d),A.textBlock.text="Play",w&&(b.stopRecording(),o.clearColor=new t.Color4(.45,.45,.45,1),n.rootContainer.getDescendants().forEach((e=>{e.isVisible=!0})),c.isVisible=!0,h.isVisible=!0,p.isVisible=!0,u.isVisible=!0,M.isVisible=!0,o.meshes.filter((e=>e.name.startsWith("Via"))).forEach((e=>e.isVisible=!0)),s.positionGizmoEnabled=!0))})),U(h,"Start","blue"),U(p,"End","green"),U(u,"Curve Control","purple"),U(C,"Target","red");const B=()=>{let e,a;if(V)e=[h.position,...l.map((e=>e.position)),p.position,h.position],a=t.Curve3.CreateCatmullRomSpline(e,100,!1);else{e=[h.position,...l.map((e=>e.position)),p.position];let i=t.Curve3.CreateQuadraticBezier(e[0],u.position,e[1],100);for(let o=1;o<e.length-1;o++){const n=t.Curve3.CreateQuadraticBezier(e[o],u.position,e[o+1],100);i=i.continue(n)}a=i}const f=a.getPoints();let T;T=w?v:m;const E=new t.Animation("cameraAnimation","position",30,t.Animation.ANIMATIONTYPE_VECTOR3,t.Animation.ANIMATIONLOOPMODE_CONSTANT),G=[];for(let i=0;i<f.length;i++)G.push({frame:i,value:f[i]});E.setKeys(G),d=T,T.animations.push(E);let k=o.onBeforeRenderObservable.add((()=>{v.setTarget(C.position),m.lookAt(C.position)}));o.beginAnimation(T,0,f.length-1,!1,r,(()=>{o.onBeforeRenderObservable.remove(k),v.attachControl(i,!0),v.position=x,v.setTarget(C.position),v.rotation=I,m.position=h.position,A.textBlock.text="Play",g=!1,w&&(b.stopRecording(),o.clearColor=new t.Color4(.45,.45,.45,1),n.rootContainer.getDescendants().forEach((e=>{e.isVisible=!0})),c.isVisible=!0,h.isVisible=!0,p.isVisible=!0,u.isVisible=!0,M.isVisible=!0,o.meshes.filter((e=>e.name.startsWith("Via"))).forEach((e=>e.isVisible=!0)),s.positionGizmoEnabled=!0)}))};function O(){if(c&&c.dispose(),V){const e=[h.position,...l.map((e=>e.position)),p.position,h.position],i=t.Curve3.CreateCatmullRomSpline(e,100,!1).getPoints();c=t.MeshBuilder.CreateLines("bezierLines",{points:i},o)}else{const e=[h.position,...l.map((e=>e.position)),p.position];let i=t.Curve3.CreateQuadraticBezier(e[0],u.position,e[1],100);for(let o=1;o<e.length-1;o++){const n=t.Curve3.CreateQuadraticBezier(e[o],u.position,e[o+1],100);i=i.continue(n)}const n=i.getPoints();c=t.MeshBuilder.CreateLines("bezierLines",{points:n},o)}}function U(e,i,o){var r=new t.GUI.Rectangle("Rect");r.width=.2,r.height="40px",r.cornerRadius=20,r.color=o,r.thickness=4,r.background="transparent",n.addControl(r),r.linkWithMesh(e),r.linkOffsetY=-150;var a=new t.GUI.TextBlock("Label");a.text=i,a.outlineColor="white",a.outlineWidth=3,r.addControl(a);var l=new t.GUI.Ellipse("Ellipse");l.width="20px",l.height="20px",l.color="Orange",l.thickness=4,l.background="green",n.addControl(l),l.linkWithMesh(e);var s=new t.GUI.Line("Line");s.lineWidth=4,s.color="Orange",s.y2=20,s.linkOffsetY=-10,n.addControl(s),s.linkWithMesh(e),s.connectedControl=r,"Curve Control"===i&&(f.push(r),f.push(a),f.push(l),f.push(s),r.isVisible=!1,a.isVisible=!1,l.isVisible=!1,s.isVisible=!1)}return o.onBeforeRenderObservable.add(O),o}t.r(i),t.d(i,{createScene:()=>o})}}]);
//# sourceMappingURL=727.4d70f932.chunk.js.map