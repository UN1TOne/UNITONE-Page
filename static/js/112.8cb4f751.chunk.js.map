{"version":3,"file":"static/js/112.8cb4f751.chunk.js","mappings":"sGAAOA,eAAeC,EAAYC,EAAQC,EAAQC,GAChDC,QAAQC,QACR,IAAIC,EAAQ,IAAIH,EAAQI,MAAMN,GAC9BK,EAAME,sBAAuB,EAC7BF,EAAMG,WAAaN,EAAQO,OAAOC,cAAc,aAEnC,IAAIR,EAAQS,WAAW,SAAU,IAAIT,EAAQU,QAAQ,EAAG,GAAI,GAAIP,GAGjE,IAAIH,EAAQW,iBAAiB,QAAS,IAAIX,EAAQU,QAAQ,EAAG,EAAG,GAAIP,GAC1ES,UAAY,GAElB,MAAMC,EAAab,EAAQc,YAAYC,UAAU,MAAO,CAAEC,MAAO,EAAGC,OAAQ,GAAKd,GAEjF,IAAIe,EAAU,IAAIlB,EAAQmB,eAAe,kBAAmB,CAAEH,MAAO,IAAKC,OAAQ,KAAOd,GAAO,GAC5FiB,EAAW,IAAIpB,EAAQqB,YAAY,MAAOlB,GAC9CiB,EAASE,SAAW,EACpBF,EAASG,OAAQ,EACjBH,EAASI,cAAgBN,EAEzBL,EAAWO,SAAWA,EAEtB,IAAIK,EAAUP,EAAQQ,aACtBD,EAAQE,UAAY,QACpBF,EAAQG,SAAS,EAAG,EAAG,IAAK,KAC5BV,EAAQW,SAER,IAAIC,GAAY,EACZC,EAAQ,EACRC,EAAQ,EAwCZ,OAzBA7B,EAAM8B,cAAgB,SAAUC,EAAKC,GACnC,GAAIA,EAAWC,KAAOD,EAAWE,aAAexB,EAAY,CAC1DiB,GAAY,EACZ,IAAIQ,EAAKH,EAAWI,wBACpBR,EAAe,IAAPO,EAAGE,EACXR,EAAqB,KAAZ,EAAIM,EAAGG,EAClB,CACF,EAEAtC,EAAMuC,YAAc,WAClBZ,GAAY,CACd,EAEA3B,EAAMwC,cAAgB,SAAUT,GAC9B,GAAIJ,EAAW,CACb,IAAIK,EAAahC,EAAMyC,KAAKzC,EAAM0C,SAAU1C,EAAM2C,UAClD,GAAIX,EAAWC,KAAOD,EAAWE,aAAexB,EAAY,CAC1D,IAAIyB,EAAKH,EAAWI,yBA9BN,SAAUC,EAAGC,GAC/BhB,EAAQsB,YACRtB,EAAQuB,OAAOjB,EAAOC,GACtBP,EAAQwB,OAAOT,EAAGC,GAClBhB,EAAQyB,YAAc,MACtBzB,EAAQ0B,UAAY,EACpB1B,EAAQ2B,SACR3B,EAAQ4B,YACRtB,EAAQS,EACRR,EAAQS,EACRvB,EAAQW,QACV,CAsBMyB,CAFe,IAAPhB,EAAGE,EACU,KAAZ,EAAIF,EAAGG,GAElB,CACF,CACF,EAEOtC,CACT,C","sources":["babylon/wallPainting.js"],"sourcesContent":["export async function createScene(engine, canvas, BABYLON) {\r\n  console.clear();\r\n  var scene = new BABYLON.Scene(engine);\r\n  scene.useRightHandedSystem = true;\r\n  scene.clearColor = BABYLON.Color4.FromHexString(\"#E4DDBBFF\");\r\n\r\n  var camera = new BABYLON.FreeCamera(\"camera\", new BABYLON.Vector3(0, 0, -7), scene);\r\n  // camera.attachControl(canvas, true);\r\n\r\n  var light = new BABYLON.HemisphericLight(\"light\", new BABYLON.Vector3(0, 1, 0), scene);\r\n  light.intensity = 0.7;\r\n\r\n  const targetMesh = BABYLON.MeshBuilder.CreateBox(\"box\", { width: 6, height: 3 }, scene);\r\n\r\n  var texture = new BABYLON.DynamicTexture(\"dynamic texture\", { width: 512, height: 512 }, scene, false);\r\n  var material = new BABYLON.PBRMaterial(\"pbr\", scene);\r\n  material.metallic = 0;\r\n  material.unlit = true;\r\n  material.albedoTexture = texture;\r\n\r\n  targetMesh.material = material;\r\n\r\n  var context = texture.getContext();\r\n  context.fillStyle = \"white\";\r\n  context.fillRect(0, 0, 512, 512);\r\n  texture.update();\r\n\r\n  var isDrawing = false;\r\n  var lastX = 0;\r\n  var lastY = 0;\r\n\r\n  var drawOnTexture = function (x, y) {\r\n    context.beginPath();\r\n    context.moveTo(lastX, lastY);\r\n    context.lineTo(x, y);\r\n    context.strokeStyle = \"red\";\r\n    context.lineWidth = 5;\r\n    context.stroke();\r\n    context.closePath();\r\n    lastX = x;\r\n    lastY = y;\r\n    texture.update();\r\n  };\r\n\r\n  scene.onPointerDown = function (evt, pickResult) {\r\n    if (pickResult.hit && pickResult.pickedMesh === targetMesh) {\r\n      isDrawing = true;\r\n      var uv = pickResult.getTextureCoordinates();\r\n      lastX = uv.x * 512;\r\n      lastY = (1 - uv.y) * 512;\r\n    }\r\n  };\r\n\r\n  scene.onPointerUp = function () {\r\n    isDrawing = false;\r\n  };\r\n\r\n  scene.onPointerMove = function (evt) {\r\n    if (isDrawing) {\r\n      var pickResult = scene.pick(scene.pointerX, scene.pointerY);\r\n      if (pickResult.hit && pickResult.pickedMesh === targetMesh) {\r\n        var uv = pickResult.getTextureCoordinates();\r\n        var x = uv.x * 512;\r\n        var y = (1 - uv.y) * 512;\r\n        drawOnTexture(x, y);\r\n      }\r\n    }\r\n  };\r\n\r\n  return scene;\r\n}\r\n"],"names":["async","createScene","engine","canvas","BABYLON","console","clear","scene","Scene","useRightHandedSystem","clearColor","Color4","FromHexString","FreeCamera","Vector3","HemisphericLight","intensity","targetMesh","MeshBuilder","CreateBox","width","height","texture","DynamicTexture","material","PBRMaterial","metallic","unlit","albedoTexture","context","getContext","fillStyle","fillRect","update","isDrawing","lastX","lastY","onPointerDown","evt","pickResult","hit","pickedMesh","uv","getTextureCoordinates","x","y","onPointerUp","onPointerMove","pick","pointerX","pointerY","beginPath","moveTo","lineTo","strokeStyle","lineWidth","stroke","closePath","drawOnTexture"],"sourceRoot":""}