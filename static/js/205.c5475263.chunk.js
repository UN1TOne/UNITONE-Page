"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[205],{20205:(e,t,i)=>{async function o(e,t,i){console.clear();var o=new i.Scene(e);o.useRightHandedSystem=!0,o.enablePhysics(new i.Vector3(0,-9.81,0),new i.AmmoJSPlugin);var r=new i.ArcRotateCamera("camera",i.Tools.ToRadians(90),i.Tools.ToRadians(65),10,i.Vector3.Zero(),o);r.setTarget(i.Vector3.Zero()),r.alpha=.69,r.beta=.937,r.radius=43,r.attachControl(t,!0),r.inertia=.4,r.wheelDeltaPercentage=.3,r.panningSensibility=1e4,r.minZ=.1,r.maxZ=1e5,o.activeCameras.push(r),new i.HemisphericLight("light",new i.Vector3(0,1,0),o).intensity=.7;var a=new i.GridMaterial("groundMaterial",o);a.majorUnitFrequency=5,a.minorUnitVisibility=.5,a.gridRatio=2,a.opacity=.99,a.useMaxLine=!0,i.MeshBuilder.CreateGround("ground",{width:100,height:100},o,!1).material=a;i.MeshBuilder.CreateBox("wall",{width:10,height:10,depth:1},o).position=new i.Vector3(0,5,-20);const n=function(e){var t=i.MeshBuilder.CreateBox("turret",{size:.7,height:.3,depth:1},e);t.id="turret",t.position.x=-2,t.position.y=-.2,t.position.z=-2,t.material=new i.StandardMaterial("turretBaseMat",e),t.material.diffuseColor=new i.Color3(1,1,0),t.lookAt(new i.Vector3(0,0,0));var o=i.MeshBuilder.CreateBox("turretBody",{size:.5,height:.4},e);o.id="turretBody",o.parent=t,o.position.y=.2,o.material=new i.StandardMaterial("turretMat",e),o.material.diffuseColor=new i.Color3(1,1,0);var r=i.MeshBuilder.CreateCylinder("barrel",{height:.8,diameter:.2},e);return r.parent=o,r.material=new i.StandardMaterial("barrelMat",e),r.material.diffuseColor=new i.Color3(0,1,1),r.position=new i.Vector3(0,.25,.25),r.rotation.x=Math.PI/2,t.scaling.scaleInPlace(3),t.position.z=15,t}(o);return o.onPointerObservable.add((function(e){if(e.type==i.PointerEventTypes.POINTERDOWN){let a=e.pickInfo.pickedMesh;for(;a;){const e=n.getChildMeshes()[0],a=e.getChildMeshes()[0];var t=i.MeshBuilder.CreateSphere("bullet",{diameter:1},o);t.material=new i.StandardMaterial("bulletMaterial",o),t.position=a.getAbsolutePosition().add(a.getDirection(i.Axis.Y).scale(.3)),t.physicsImpostor=new i.PhysicsImpostor(t,i.PhysicsImpostor.SphereImpostor,{mass:1,restitution:.9},o);var r=e.getDirection(i.Axis.Z).scale(15);t.applyImpulse(r,t.getAbsolutePosition());const s=new i.ParticleSystem("particles",2e3,o);s.particleTexture=new i.Texture("/images/textures/flare.png",o),s.emitter=t,s.minEmitBox=new i.Vector3(-.1,0,-.1),s.maxEmitBox=new i.Vector3(.1,0,.1),s.color1=new i.Color4(1,.5,0,1),s.color2=new i.Color4(1,.1,0,1),s.colorDead=new i.Color4(0,0,0,0),s.minSize=.1,s.maxSize=.3,s.minLifeTime=.2,s.maxLifeTime=.5,s.emitRate=1e3,s.direction1=new i.Vector3(-1,1,-1),s.direction2=new i.Vector3(1,1,1),s.gravity=new i.Vector3(0,-9.81,0),s.start(),setTimeout((()=>{s.stop(),t.dispose()}),1e3);break}}})),o.onPointerMove=function(){var e=o.pick(o.pointerX,o.pointerY);if(e.hit){var t=e.pickedPoint.x-n.position.x,i=e.pickedPoint.z-n.position.z;n.rotation.y=Math.atan2(t,i);const o=n.getChildMeshes()[0].getChildMeshes()[0];var r=e.pickedPoint.y-o.getAbsolutePosition().y,a=Math.sqrt(t*t+i*i);o.rotation.x=Math.atan2(r,a)}},o.onPointerMove=function(){var e=o.pick(o.pointerX,o.pointerY);if(e.hit){var t=e.pickedPoint.x-n.position.x,i=e.pickedPoint.z-n.position.z;n.rotation.y=Math.atan2(t,i);const o=n.getChildMeshes()[0],s=o.getChildMeshes()[0];var r=e.pickedPoint.y-(o.getAbsolutePosition().y+s.position.y),a=Math.sqrt(t*t+i*i);s.rotation.z=-Math.atan2(r,a)}},o}i.r(t),i.d(t,{createScene:()=>o})}}]);
//# sourceMappingURL=205.c5475263.chunk.js.map